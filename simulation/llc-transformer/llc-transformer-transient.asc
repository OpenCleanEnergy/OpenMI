Version 4
SHEET 1 3940 1956
WIRE 336 48 224 48
WIRE 432 48 336 48
WIRE 560 48 496 48
WIRE 720 48 640 48
WIRE 832 48 720 48
WIRE 864 48 832 48
WIRE 224 64 224 48
WIRE 720 64 720 48
WIRE 864 64 864 48
WIRE 224 160 224 144
WIRE 336 160 224 160
WIRE 720 160 720 144
WIRE 720 160 336 160
WIRE 864 160 864 144
WIRE 864 160 720 160
WIRE 224 176 224 160
WIRE 224 272 224 256
WIRE 336 384 224 384
WIRE 432 384 336 384
WIRE 736 384 496 384
WIRE 784 384 736 384
WIRE 1120 384 1008 384
WIRE 1488 384 1120 384
WIRE 1536 384 1488 384
WIRE 224 400 224 384
WIRE 784 400 784 384
WIRE 1008 400 1008 384
WIRE 1536 400 1536 384
WIRE 224 496 224 480
WIRE 624 496 224 496
WIRE 640 496 624 496
WIRE 784 496 784 480
WIRE 784 496 720 496
WIRE 1008 496 1008 480
WIRE 1136 496 1008 496
WIRE 1232 496 1216 496
WIRE 1536 496 1536 480
WIRE 1536 496 1232 496
WIRE 224 512 224 496
WIRE 1536 512 1536 496
WIRE 224 608 224 592
WIRE 736 640 736 384
WIRE 784 640 736 640
WIRE 1120 640 1120 384
WIRE 1120 640 1008 640
WIRE 784 656 784 640
WIRE 1008 656 1008 640
WIRE 624 752 624 496
WIRE 640 752 624 752
WIRE 784 752 784 736
WIRE 784 752 720 752
WIRE 1008 752 1008 736
WIRE 1136 752 1008 752
WIRE 1232 752 1232 496
WIRE 1232 752 1216 752
WIRE 336 864 224 864
WIRE 432 864 336 864
WIRE 784 864 496 864
WIRE 1488 864 1008 864
WIRE 1536 864 1488 864
WIRE 224 880 224 864
WIRE 784 880 784 864
WIRE 1008 880 1008 864
WIRE 1536 880 1536 864
WIRE 224 976 224 960
WIRE 784 976 784 960
WIRE 784 976 224 976
WIRE 1008 976 1008 960
WIRE 1536 976 1536 960
WIRE 1536 976 1008 976
WIRE 224 992 224 976
WIRE 1536 992 1536 976
WIRE 224 1088 224 1072
FLAG 224 272 0
FLAG 336 48 V_in_1
FLAG 832 48 V_r
FLAG 1536 592 0
FLAG 336 384 V_in_2
FLAG 1488 384 V_0
FLAG 1536 1072 0
FLAG 336 864 V_in_3
FLAG 1488 864 V_0_2
FLAG 224 608 0
FLAG 224 1088 0
FLAG 336 160 GND1
SYMBOL voltage 224 48 M0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 PULSE(0 {V_in} {t_onoff} {t_edge} {t_edge} {t_onoff} {T})
SYMATTR InstName V1
SYMATTR Value ""
SYMBOL ind 704 48 R0
SYMATTR InstName Lm1
SYMATTR Value {L_m}
SYMBOL cap 432 32 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cr1
SYMATTR Value {C_r}
SYMBOL ind 544 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Lr1
SYMATTR Value {L_r}
SYMBOL res 848 48 R0
SYMATTR InstName Rac
SYMATTR Value {R_ac}
SYMBOL ind2 768 384 R0
SYMATTR InstName Ls1
SYMATTR Value {Ls}
SYMATTR Type ind
SYMBOL ind2 1024 384 M0
SYMATTR InstName Lp1
SYMATTR Value {Lp}
SYMATTR Type ind
SYMBOL res 1520 496 R0
SYMATTR InstName Rg1
SYMATTR Value 100Meg
SYMBOL res 1520 384 R0
SYMATTR InstName R1
SYMATTR Value {R_0}
SYMBOL res 736 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rser1
SYMATTR Value 1µ
SYMBOL ind2 768 640 R0
SYMATTR InstName Ls2
SYMATTR Value {Ls}
SYMATTR Type ind
SYMBOL ind2 1024 640 M0
SYMATTR InstName Lp2
SYMATTR Value {Lp}
SYMATTR Type ind
SYMBOL res 736 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rser2
SYMATTR Value 1µ
SYMBOL res 1232 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rser3
SYMATTR Value 1µ
SYMBOL res 1232 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rser4
SYMATTR Value 1µ
SYMBOL cap 432 368 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cr2
SYMATTR Value {C_r}
SYMBOL ind2 768 864 R0
SYMATTR InstName Ls3
SYMATTR Value {Ls/2}
SYMATTR Type ind
SYMBOL ind2 1024 864 M0
SYMATTR InstName Lp3
SYMATTR Value {Lp/2}
SYMATTR Type ind
SYMBOL res 1520 976 R0
SYMATTR InstName Rg2
SYMATTR Value 100Meg
SYMBOL res 1520 864 R0
SYMATTR InstName R2
SYMATTR Value {R_0}
SYMBOL cap 432 848 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Cr3
SYMATTR Value {C_r}
SYMBOL res 208 160 R0
SYMATTR InstName Riso1
SYMATTR Value 100Meg
SYMBOL voltage 224 384 M0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 PULSE(0 {V_in} {t_onoff} {t_edge} {t_edge} {t_onoff} {T})
SYMATTR InstName V2
SYMATTR Value ""
SYMBOL res 208 496 R0
SYMATTR InstName Riso2
SYMATTR Value 100Meg
SYMBOL voltage 224 864 M0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 PULSE(0 {V_in} {t_onoff} {t_edge} {t_edge} {t_onoff} {T})
SYMATTR InstName V3
SYMATTR Value ""
SYMBOL res 208 976 R0
SYMATTR InstName Riso3
SYMATTR Value 100Meg
TEXT 1912 128 Left 2 !.tran 0 1.025m 1m 25n
TEXT 392 1240 Left 2 !.param N = 35 / 2\n.param Lp = 500uH\n.param Llkg = 95uH\n.param Kf = sqrt(1 - (Llkg / Lp))\n.param Ls=Lp / (N**2)
TEXT 392 1152 Left 2 ;https://www.analog.com/en/technical-articles/using-transformers-in-ltspice-switcher-cadiii.html
TEXT 392 1176 Left 2 ;Datasheet:\nhttps://www.we-online.com/components/products/datasheet/760895631.pdf
TEXT 1912 184 Left 2 !; Input parameter\n.param f_r = 250kHz\n.param F_x = 1\n.param V_in = 45V\n \n; Voltage source\n.param f = f_r * F_x\n.param T = 1 / f\n.param t_edge = 10n\n.param t_onoff = T / 2 - t_edge\n \n; LLC components\n.param L_r = Llkg / (N**2) / 2\n.meas L_r_ PARAM L_r\n \n.param L_m = (Lp - Llkg) / (N**2) / 2\n.meas L_m_ PARAM L_m\n \n.param U_bus_nom = 425V\n.meas U_bus_nom_ PARAM U_bus_nom\n \n.param P_out_max = 400W\n.meas P_out_max_ PARAM P_out_max\n \n.param R_0 = U_bus_nom**2 / P_out_max\n.meas R_0_ PARAM R_0\n \n.param R_ac = (8 / PI**2) / N**2 * R_0\n.meas R_ac_ PARAM R_ac\n \n.param C_r = 1 / (2 * PI* f_r)**2 / L_r\n.meas C_r_ PARAM C_r\n \n; Measurements\n.meas I_rms RMS I(Cr1)
TEXT 808 376 Left 2 !K1 Lp1 Ls1 {Kf}
TEXT 808 632 Left 2 !K2 Lp2 Ls2 {Kf}
TEXT 1344 672 Left 2 ;L[dB] = 20 * log(V_out / V_in)\nV = 10**(L/20)\nExpected: \nL = 20 * log(35/2) = 24.86dB
TEXT 808 856 Left 2 !K3 Lp3 Ls3 {Kf}
